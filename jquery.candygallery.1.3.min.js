(function(a){a.fn.candygallery=function(b){var c={maxwidth:203,thumbwidth:50,thumbopacity:0.7,title:"true",changeon:"click",thumbposition:"after",fade:"true",fadespeed:500};var b=a.extend({},c,b);return this.each(function(){obj=a(this);var e=a(obj).children("img:first-child").attr("src");var d=b.thumbwidth+100;a(obj).children("img").wrap("<li />");a(obj).children("li").wrapAll('<ul id="gallery-ul" />');a("#gallery-ul > li > img").attr("width",d);if(b.thumbposition=="after"){a("#gallery-ul").before('<div id="big-image"></div>')}if(b.thumbposition=="before"){a("#gallery-ul").after('<div id="big-image"></div>')}a('<img src="'+e+'" />').appendTo("#big-image");if(b.title=="true"){a('<div id="gallery-title"></div>').appendTo("#big-image");a("#gallery-title").text(a("#gallery-ul > li:first-child > img").attr("alt"))}a("#big-image > img").attr("width",b.maxwidth);a("#gallery-ul > li").css({width:b.thumbwidth+"px",height:b.thumbwidth+"px",opacity:b.thumbopacity});a("#gallery-ul > li:first-child").addClass("active-thumb");if(b.changeon=="click"){a("#gallery-ul > li > img").click(function(){var g=a(this).attr("alt");var f=a(this);if(b.fade=="true"){a("#big-image > img").addClass("del-me").stop(true,true);a(".del-me").css({position:"relative","z-index":"2"});a(f).clone().appendTo(a("#big-image"));a(".del-me").siblings("img").addClass("temp");a(".del-me").fadeOut(b.fadespeed,function(){a(this).remove();a(".temp").removeClass("temp")});a("#big-image > img").attr("width",b.maxwidth)}else{a("#big-image > img").remove();a(f).clone().appendTo(a("#big-image"));a("#big-image > img").attr("width",b.maxwidth)}a(".active-thumb").removeClass("active-thumb");a(this).parent().addClass("active-thumb");a("#gallery-title").text("");a("#gallery-title").text(g)})}else{if(b.changeon=="hover"){a("#gallery-ul > li > img").hover(function(){var f=a(this).attr("alt");a("#big-image > img").remove();a(this).clone().appendTo(a("#big-image"));a("#big-image > img").attr("width",b.maxwidth);a(".active-thumb").removeClass("active-thumb");a(this).parent().addClass("active-thumb");a("#gallery-title").text("");a("#gallery-title").text(f)})}}})}})(jQuery);